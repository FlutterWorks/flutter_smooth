<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-design/infra/brake/intro">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Introduction | flutter_smooth</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cjycode.com/flutter_smooth/design/infra/brake/intro"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction | flutter_smooth"><meta data-rh="true" name="description" content="Why"><meta data-rh="true" property="og:description" content="Why"><link data-rh="true" rel="icon" href="/flutter_smooth/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cjycode.com/flutter_smooth/design/infra/brake/intro"><link data-rh="true" rel="alternate" href="https://cjycode.com/flutter_smooth/design/infra/brake/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://cjycode.com/flutter_smooth/design/infra/brake/intro" hreflang="x-default"><link rel="stylesheet" href="/flutter_smooth/assets/css/styles.2d11393f.css">
<link rel="preload" href="/flutter_smooth/assets/js/runtime~main.68cb3ab5.js" as="script">
<link rel="preload" href="/flutter_smooth/assets/js/main.ebb4e1b4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/flutter_smooth/"><div class="navbar__logo"><img src="https://raw.githubusercontent.com/fzyzcjy/flutter_smooth_blob/master/meta/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://raw.githubusercontent.com/fzyzcjy/flutter_smooth_blob/master/meta/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Flutter Smooth</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/fzyzcjy/flutter_smooth" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/flutter_smooth/">Flutter Smooth</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/flutter_smooth/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/flutter_smooth/usage/">Usage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Usage&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/usage/drop-in">a. Drop-in replacement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/usage/builder">b. Flexible builder</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/flutter_smooth/demo">Demo</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/flutter_smooth/benchmark/">Benchmark</a><button aria-label="Toggle the collapsible sidebar category &#x27;Benchmark&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/gather-data">Gather data</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/benchmark/analyze/">Analyze</a><button aria-label="Toggle the collapsible sidebar category &#x27;Analyze&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/benchmark/analyze/fps/">FPS</a><button aria-label="Toggle the collapsible sidebar category &#x27;FPS&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/fps/video">Result from video</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/fps/tracing">Result from tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/fps/devtool">Devtool</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/benchmark/analyze/linearity/">Linearity</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linearity&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/linearity/definition">Definition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/linearity/video">Result from video</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/linearity/tracing">Result from tracing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/benchmark/analyze/jank-statistics/">Jank statistics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Jank statistics&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/jank-statistics/definition">Definition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/jank-statistics/result">Result</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/benchmark/analyze/overhead/">Overhead</a><button aria-label="Toggle the collapsible sidebar category &#x27;Overhead&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/overhead/definition">Definition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/overhead/result">Result</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/analyze/waste">Waste</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/benchmark/pitfall/">Pitfalls</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pitfalls&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/pitfall/half-fps">FPS is 30 (not 59) when 16.67+0.01ms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/benchmark/pitfall/latency-change">Undetected jank and &quot;jump&quot; when latency changes</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/flutter_smooth/design/">Design</a><button aria-label="Toggle the collapsible sidebar category &#x27;Design&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/target">Target problems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/scenario">Scenarios</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/limit">Limitations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/review/">Literature review</a><button aria-label="Toggle the collapsible sidebar category &#x27;Literature review&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/review/summary">Summary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/review/comparison">Comparison</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/infra/">Infra layer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Infra layer&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/tip">Tips</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/infra/preempt/">Preempt</a><button aria-label="Toggle the collapsible sidebar category &#x27;Preempt&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/preempt/idea">Idea</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/preempt/how">How to trigger</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/preempt/when">When to trigger</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/preempt/what-low">What to do</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/preempt/what-high">PreemptBuilder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/preempt/post-draw">Post draw frame</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/infra/brake/">Brake</a><button aria-label="Toggle the collapsible sidebar category &#x27;Brake&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/flutter_smooth/design/infra/brake/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/brake/idea">Idea</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/brake/analysis">Analysis</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/infra/rasterizer-queue/">Rasterizer queue</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rasterizer queue&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/rasterizer-queue/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/rasterizer-queue/before">Before</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/rasterizer-queue/after">After</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/rasterizer-queue/multi-render">Multi-render</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/rasterizer-queue/remove-jank">Remove (3N-1) uncomfort</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/animation">Animation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/infra/gesture/">Gesture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gesture&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/gesture/impl">Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/gesture/delay">Deliberate delay</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/infra/time/">Time</a><button aria-label="Toggle the collapsible sidebar category &#x27;Time&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/time/pitfall-off">Pitfall: Off-by-1-frame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/time/time-base">Several time bases</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/infra/gc/">Garbage collection</a><button aria-label="Toggle the collapsible sidebar category &#x27;Garbage collection&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/gc/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/gc/within-frame">Within-frame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/gc/between-frame">Between-frame</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/infra/misc/">Misc</a><button aria-label="Toggle the collapsible sidebar category &#x27;Misc&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/misc/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/misc/rasterizer-ending">Fix rasterizer ending time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/misc/pointer-dispatch">Pointer dispatch speed-up</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/misc/report-timing">Report timing slowness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/infra/misc/await-vsync">Fix jank by await vsync</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/flutter_smooth/design/drop-in/">Drop-in layer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Drop-in layer&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/drop-in/page-route">SmoothMaterialPageRoute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/design/drop-in/list-view">SmoothListView</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/flutter_smooth/insight/">Insight</a><button aria-label="Toggle the collapsible sidebar category &#x27;Insight&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/insight/status">PR status</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/insight/design-doc">Design doc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flutter_smooth/insight/conversation">Conversations</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/flutter_smooth/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/flutter_smooth/design/"><span itemprop="name">Design</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/flutter_smooth/design/infra/"><span itemprop="name">Infra layer</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/flutter_smooth/design/infra/brake/"><span itemprop="name">Brake</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Introduction</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why">Why<a class="hash-link" href="#why" title="Direct link to heading">​</a></h2><p>Why do we need another mechanism, given that the Preempt already works well? Consider the following scenario: The user taps the screen (<code>PointerDownEvent</code>) in the middle of a long janky frame. More concretely, for example, when ListView is shifting quickly by inertia and during a long janky frame, the user drags the screen wanting to further scroll. As will be discussed in the <a href="/flutter_smooth/design/infra/gesture/impl">gesture</a> section, it is impossible to handle <code>PointerDownEvent</code> in the <em>middle</em> of a long janky frame. Therefore, if we only have the Preempt mechanism, we cannot respond to the user interaction until the janky frame ends, which can be long and user has uncomfortable feeling.</p><p>Another example is that, when user is scrolling a <code>ListView</code> and suddently user finger leaves the screen (<code>PointerUpEvent</code>). There are some complex logic happening to handle the pointer up event inside <code>ListView</code>. I could but do not want to reproduce it in preempt render. If so, the user pointer up event will not be handled until the janky frame ends, causing both lagging and jank (because there is no pointer move event after pointer up, so ListView no longer moves, so it looks janky).</p><p>In summary, when there is something that cannot be handled by preempt rendering, we will jank because preempt can do nothing about that. With brake, there is no such problem. Therefore, the preempt is the main workhorse, while the brake fixes some edge cases that preempt is not able to do.</p><p>For a figure demonstrating this, please refer to the next part.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="formalize-the-problem">Formalize the problem<a class="hash-link" href="#formalize-the-problem" title="Direct link to heading">​</a></h2><p><strong>Image caption:</strong> The first row is the problem. The second row is the control group where there is no jank and no flutter_smooth. The third row is the solution.</p><center><svg width="170mm" height="140mm" viewBox="0 0 170 140" xmlns="http://www.w3.org/2000/svg" role="img"><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M110.655 3.54v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="111.627" y="5.828"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="111.627" y="5.828">5</tspan></text><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M27.253 3.54v35.712M48.418 3.54v35.712M69.427 3.54v35.712M90.435 3.54v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="4.629" y="10.298"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="4.629" y="10.298">UI</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="3.97" y="23.211"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="3.97" y="23.211">Raster</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="3.978" y="36.652"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="3.978" y="36.652">Screen</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="27.811" y="5.828"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="27.811" y="5.828">1</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="49.18" y="5.828"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="49.18" y="5.828">2</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="70.038" y="5.828"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="70.038" y="5.828">3</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="91.407" y="5.828"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="91.407" y="5.828">4</tspan></text><g style="stroke:#437093;stroke-opacity:0.297872"><path style="fill:#fff;fill-opacity:1;stroke:#437093;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:0.297872" d="M45.785 20.053h16.758v3.79H45.785z" transform="translate(-20.388)"></path><path style="fill:#fff;fill-opacity:1;stroke:#437093;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:0.297872" d="M45.761 12.285v7.403M62.548 24.27v7.403" transform="translate(-20.388)"></path></g><g transform="translate(-45.307 2.836)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:1.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.409295;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="78.316" y="32.903" transform="scale(.9879 1.01224)"><tspan style="font-size:1.5px;fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.409296" x="78.316" y="32.903">...related to previous</tspan></text></g><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M130.763 3.54v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="131.735" y="5.828"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="131.735" y="5.828">6</tspan></text><path style="fill:#fff;fill-opacity:1;stroke:#2196f3;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M27.329 8.26h74.013v3.678H27.329zM110.698 8.26h62.862v3.678h-62.862z"></path><circle style="fill:#ffe082;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" cx="42.251" cy="8.17" r="2.241"></circle><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#ffe082;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="32.597" y="2.811"><tspan style="font-size:2.5px;fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="32.597" y="2.811">event</tspan><tspan style="font-size:2.5px;fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="32.597" y="5.936">occured</tspan></text><circle style="fill:#e6ee9c;fill-opacity:1;stroke:#cddc39;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" cx="109.629" cy="8.681" r="2.241"></circle><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="99.976" y="3.425"><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="99.976" y="3.425">event</tspan><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="99.976" y="6.55">handled</tspan></text><g transform="translate(36.418 2.656)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#ff9800;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="79.409" y="34.125"><tspan style="fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="79.409" y="34.125">Jank</tspan></text></g><g transform="translate(16.814 2.656)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#ff9800;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="79.409" y="34.125"><tspan style="fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="79.409" y="34.125">Jank</tspan></text></g><path style="fill:#fff;fill-opacity:1;stroke:#e57373;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.319 20.057h16.758v3.79H50.319zM44.175 12.113h6.124v3.79h-6.124z" transform="translate(41.842)"></path><path style="fill:#fff;fill-opacity:1;stroke:#e57373;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.295 12.289v7.403M67.082 24.273v7.404" transform="translate(41.842)"></path><path style="fill:#fff;fill-opacity:1;stroke:#e57373;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M109.452 20.057h16.758v3.79h-16.758z" transform="translate(.535)"></path><path style="fill:#fff;fill-opacity:1;stroke:#e57373;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="m100.738 11.982 8.69 7.71M126.215 24.273v7.404" transform="translate(.535)"></path><g style="stroke:#4caf50;stroke-opacity:1"><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.319 20.057h16.758v3.79H50.319zM44.175 12.113h6.124v3.79h-6.124z" transform="translate(82.431)"></path><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.295 12.289v7.403M67.082 24.273v7.404" transform="translate(82.431)"></path></g><g transform="translate(58.024 2.656)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="80.997" y="34.125"><tspan style="fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.482" x="80.997" y="34.125">Ok</tspan></text></g><path style="fill:#fff;fill-opacity:1;stroke:none;stroke-width:1.18879;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M165.749.986h15.365v137.901h-15.365z"></path><g style="stroke:#4caf50;stroke-opacity:1"><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.319 20.057h16.758v3.79H50.319zM44.175 12.113h6.124v3.79h-6.124z" transform="translate(-.488)"></path><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.295 12.289v7.403M67.082 24.273v7.404" transform="translate(-.488)"></path></g><g transform="translate(-24.589 2.656)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="80.997" y="34.125"><tspan style="fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.482" x="80.997" y="34.125">Ok</tspan></text></g><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M150.342 3.54v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="151.314" y="5.828"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="151.314" y="5.828">7</tspan></text><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M110.655 49.55v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="111.627" y="51.838"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="111.627" y="51.838">5</tspan></text><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M27.253 49.55v35.712M48.418 49.55v35.712M69.427 49.55v35.712M90.435 49.55v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="4.629" y="56.308"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="4.629" y="56.308">UI</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="3.97" y="69.221"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="3.97" y="69.221">Raster</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="3.978" y="82.662"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="3.978" y="82.662">Screen</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="27.811" y="51.838"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="27.811" y="51.838">1</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="49.18" y="51.838"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="49.18" y="51.838">2</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="70.038" y="51.838"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="70.038" y="51.838">3</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="91.407" y="51.838"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="91.407" y="51.838">4</tspan></text><g style="stroke:#437093;stroke-opacity:0.297872"><path style="fill:#fff;fill-opacity:1;stroke:#437093;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:0.297872" d="M45.785 20.053h16.758v3.79H45.785z" transform="translate(-20.388 46.01)"></path><path style="fill:#fff;fill-opacity:1;stroke:#437093;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:0.297872" d="M45.761 12.285v7.403M62.548 24.27v7.403" transform="translate(-20.388 46.01)"></path></g><g transform="translate(-45.307 48.846)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:1.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.409295;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="78.316" y="32.903" transform="scale(.9879 1.01224)"><tspan style="font-size:1.5px;fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.409296" x="78.316" y="32.903">...related to previous</tspan></text></g><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M130.763 49.55v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="131.735" y="51.838"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="131.735" y="51.838">6</tspan></text><path style="fill:#fff;fill-opacity:1;stroke:#2196f3;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M27.329 54.27h19.5v3.678h-19.5zM48.522 54.27h18.615v3.678H48.522z"></path><circle style="fill:#ffe082;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" cx="42.251" cy="54.18" r="2.241"></circle><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#ffe082;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="32.597" y="48.822"><tspan style="font-size:2.5px;fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="32.597" y="48.822">event</tspan><tspan style="font-size:2.5px;fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="32.597" y="51.947">occured</tspan></text><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="40.151" y="46.265"><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="40.151" y="46.265">event</tspan><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="40.151" y="49.39">handled</tspan></text><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M49.831 66.067h16.758v3.79H49.831z" transform="translate(-3.175)"></path><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M49.807 58.299v7.403M66.594 70.284v7.403" transform="translate(-3.175)"></path><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M150.342 49.55v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="151.314" y="51.838"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="151.314" y="51.838">7</tspan></text><g transform="translate(-24.589 49.254)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="80.997" y="34.125"><tspan style="fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.482" x="80.997" y="34.125">Ok</tspan></text></g><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M49.831 66.067h16.758v3.79H49.831z" transform="translate(17.213)"></path><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M49.807 58.299v7.403M66.594 70.284v7.403" transform="translate(17.213)"></path><g transform="translate(-3.189 49.11)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="80.997" y="34.125"><tspan style="fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.482" x="80.997" y="34.125">Ok</tspan></text></g><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#cddc39;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="93.941" y="57.115"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="93.941" y="57.115">... unrelated ...</tspan></text><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="72.972" y="75.099"><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="72.972" y="75.099">see event</tspan><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="72.972" y="78.224">effects</tspan></text><circle style="fill:#e6ee9c;fill-opacity:1;stroke:#cddc39;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" cx="147.53" cy="29.722" r="2.241"></circle><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="133.702" y="28.828"><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="133.702" y="28.828">see event</tspan><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="133.702" y="31.953">effects</tspan></text><circle style="fill:#e6ee9c;fill-opacity:1;stroke:#cddc39;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" cx="85.742" cy="75.993" r="2.241"></circle><path style="fill:#fff;fill-opacity:1;stroke:#e57373;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.319 20.057h16.758v3.79H50.319zM44.175 12.113h6.124v3.79h-6.124z" transform="translate(21.165)"></path><path style="fill:#fff;fill-opacity:1;stroke:#e57373;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.295 12.289v7.403M67.082 24.273v7.404" transform="translate(21.165)"></path><g transform="translate(-2.706 2.656)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#ff9800;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="79.409" y="34.125"><tspan style="fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="79.409" y="34.125">Jank</tspan></text></g><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M110.655 96.992v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="111.627" y="99.279"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="111.627" y="99.279">5</tspan></text><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M27.253 96.992v35.712M48.418 96.992v35.712M69.427 96.992v35.712M90.435 96.992v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="4.629" y="103.75"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="4.629" y="103.75">UI</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="3.97" y="116.663"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="3.97" y="116.663">Raster</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;Courier New&#x27;;-inkscape-font-specification:&#x27;Courier New&#x27;;text-align:center;text-anchor:middle;fill:none;fill-opacity:0.490862;stroke:#000;stroke-width:0.280114;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="3.978" y="130.104"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#000;fill-opacity:1;stroke:none;stroke-width:0.280114;stroke-dasharray:none" x="3.978" y="130.104">Screen</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="27.811" y="99.279"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="27.811" y="99.279">1</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="49.18" y="99.279"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="49.18" y="99.279">2</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="70.038" y="99.279"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="70.038" y="99.279">3</tspan></text><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="91.407" y="99.279"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="91.407" y="99.279">4</tspan></text><g style="stroke:#437093;stroke-opacity:0.297872"><path style="fill:#fff;fill-opacity:1;stroke:#437093;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:0.297872" d="M45.785 20.053h16.758v3.79H45.785z" transform="translate(-20.388 93.452)"></path><path style="fill:#fff;fill-opacity:1;stroke:#437093;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:0.297872" d="M45.761 12.285v7.403M62.548 24.27v7.403" transform="translate(-20.388 93.452)"></path></g><g transform="translate(-45.307 96.287)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:1.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.409295;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="78.316" y="32.903" transform="scale(.9879 1.01224)"><tspan style="font-size:1.5px;fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.409296" x="78.316" y="32.903">...related to previous</tspan></text></g><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M130.763 96.992v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="131.735" y="99.279"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="131.735" y="99.279">6</tspan></text><path style="fill:#fff;fill-opacity:1;stroke:#2196f3;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M27.329 101.711H50.01v3.678H27.329zM61.391 101.711h45.378v3.678H61.391z"></path><g transform="translate(0 93.452)"><circle style="fill:#ffe082;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" cx="42.251" cy="8.17" r="2.241"></circle><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#ffe082;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="32.597" y="2.811"><tspan style="font-size:2.5px;fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="32.597" y="2.811">event</tspan><tspan style="font-size:2.5px;fill:#ff9800;fill-opacity:1;stroke:none;stroke-width:0.482" x="32.597" y="5.936">occured</tspan></text></g><g transform="translate(-49.307 93.452)"><circle style="fill:#e6ee9c;fill-opacity:1;stroke:#cddc39;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" cx="109.629" cy="8.681" r="2.241"></circle><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="99.976" y="3.425"><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="99.976" y="3.425">event</tspan><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="99.976" y="6.55">handled</tspan></text></g><g style="stroke:#4caf50;stroke-opacity:1"><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.319 20.057h16.758v3.79H50.319zM44.175 12.113h6.124v3.79h-6.124z" transform="translate(21.412 93.452)"></path><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M50.295 12.289v7.403M67.082 24.273v7.404" transform="translate(21.412 93.452)"></path></g><g transform="translate(-2.995 96.107)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="80.997" y="34.125"><tspan style="fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.482" x="80.997" y="34.125">Ok</tspan></text></g><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.446625;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M49.831 113.509h16.758v3.79H49.831z"></path><path style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481738;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M49.807 105.74v7.403M66.594 117.725v7.403"></path><g transform="translate(-24.589 96.107)"><ellipse style="fill:#fff;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" cx="83.386" cy="32.823" rx="6.941" ry="2.314"></ellipse><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#ff9800;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="80.997" y="34.125"><tspan style="fill:#4caf50;fill-opacity:1;stroke:none;stroke-width:0.482" x="80.997" y="34.125">Ok</tspan></text></g><path style="fill:none;fill-opacity:0.490862;stroke:#535353;stroke-width:0.4;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M150.342 96.992v35.712"></path><text xml:space="preserve" style="font-size:4px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;text-align:start;text-anchor:start;fill:#4caf50;fill-opacity:1;stroke:#4caf50;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" x="151.314" y="99.279"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="151.314" y="99.279">7</tspan></text><circle style="fill:#e6ee9c;fill-opacity:1;stroke:#cddc39;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" cx="86.8" cy="123.174" r="2.241"></circle><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="72.972" y="122.28"><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="72.972" y="122.28">see event</tspan><tspan style="font-size:2.5px;fill:#aab72e;fill-opacity:1;stroke:none;stroke-width:0.482" x="72.972" y="125.405">effects</tspan></text><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#ffc107;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="33.914" y="111.004"><tspan style="font-size:2.5px;fill:#f44336;fill-opacity:1;stroke:none;stroke-width:0.482" x="33.914" y="111.004">trigger brake</tspan></text><path style="fill:#fdd5d5;fill-opacity:1;stroke:#e57373;stroke-width:0.389583;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M43.043 104.524h4.591v3.847h-4.591z"></path><path style="fill:#fff;fill-opacity:1;stroke:none;stroke-width:0.865855;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M17.908.919h8.18v137.417h-8.18z"></path><path style="fill:#fff;fill-opacity:1;stroke:none;stroke-width:0.442807;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-dasharray:none;stroke-opacity:1" d="M91.724 100.062h17.921v7.13H91.724z"></path><text xml:space="preserve" style="font-size:2.5px;font-family:&#x27;系統字體&#x27;;-inkscape-font-specification:&#x27;系統字體&#x27;;fill:#aab72e;fill-opacity:1;stroke:#cddc39;stroke-width:0.481999;stroke-linecap:square;stroke-linejoin:bevel;stroke-miterlimit:3.9;stroke-opacity:1" x="93.958" y="104.527"><tspan style="fill:#000;fill-opacity:1;stroke:none;stroke-width:0.482" x="93.958" y="104.527">... unrelated ...</tspan></text></svg></center><p>In the first row (the problem), there is an event that cannot be handled at time 1.8. Then, even though all subsequent preempt renders happen, they are marked red and result in janks, because they cannot produce meaningful UI scene, since preempt render cannot handle that event. It is only after (roughly) time 4 when the event is handled, that the preempt render and normal render starts to produce meaningful data. Therefore, we do see several janks, even though it is 60FPS and preempt is running.</p><p>As for why 2 is &quot;ok&quot; instead of &quot;jank&quot; even though event (suppose it is pointer event) happens at 1.8, this is because of the <a href="/flutter_smooth/design/infra/gesture/delay">gesture system delay</a>. Looking at the second row, which is the control group when there is no UI jank and no flutter_smooth, we see the event effects are not displayed until time 4.0. Therefore, if we manage to deliver a scene with event effects at 4.0, we do not cause any jank, and have jank otherwise.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/fzyzcjy/flutter_smooth/tree/master/website/docs/design/infra/brake/intro.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/flutter_smooth/design/infra/brake/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Brake</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/flutter_smooth/design/infra/brake/idea"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Idea</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why" class="table-of-contents__link toc-highlight">Why</a></li><li><a href="#formalize-the-problem" class="table-of-contents__link toc-highlight">Formalize the problem</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/flutter_smooth/assets/js/runtime~main.68cb3ab5.js"></script>
<script src="/flutter_smooth/assets/js/main.ebb4e1b4.js"></script>
</body>
</html>